<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="style.css"/>
<link rel="stylesheet" type="text/css" href="details.css"/>
     <title>Octopus Blog - Mon article</title>
</head>
<body>
    <header>
        <nav class="menu">
            <ul>
                <li class="menu"><a href="">Accueil</a></li>
                <li class="menu"><a href="">Création d'articles</a></li>
                <li class="menu"><a href="">Liste des articles</a></li>
            </ul>
        </nav>
        <div id = "cadre_titre">
            <h1> octopus blog </h1>
        </div>
    </header>

    <div class="container1">
        <div id="container2">

            <script>

                const getArticle = async (id) => {
                const response = await fetch(`http://localhost:3000/articles/${id}`);
                const article = await response.json()
                generateHtmlArticle(data)
            };

                let generateHtmlArticle = (data) => {
                    resetPage() //supprimer la page avant de générer une autre page
                    let html =`

                    <h2>${data.title}</h2>

                    <div id="info_articles">
                        <div id="theme">
                            <span class="article_field">Thème:</span>
                            <p class="res">${data.topic}</p>
                        </div>
                        <div id="author">
                        <span class="article_field">Nom de l'auteur:</span>
                        <p class="res">${data.author}</p>
                        </div>
                        <div id="date">
                        <span class="article-field"> Date de publication:</span>
                        <p class="res">${data.date}</p>
                        </div>
                    </div>
                    <div id="texte_area">
                <p class="res_contenu">${data.content}</p>
                </div>
                  `
                let articlesDiv = document.querySelector('.container1')
                articlesDiv.innerHTML = html
                 };

                    document.querySelectorAll('.voir').forEach((item) => {
                    item.addEventListener('click', getArticle);
        });
        
                    const resetPage = () => {
                document.querySelector('.container').innerHTML = '';
                document.querySelector('.container1').innerHTML = '';
            };
            </script>

        </div>
    </div>

    <footer>
        <div id="bloc_logo">
            <a href="https://github.com/manekineko17" target="_blank">
            <img class = "img_logo_github" src="./media/GitHub-bleu.png" alt="logo Github Marine Grouiller"/>
            </a>
            <a href="https://github.com/adelevrc" target="_blank">
            <img class = "img_logo_github" src="./media/GitHub-jaune.png" alt="logo Github Adèle Vercaygne"/>
            </a>
            <a href="https://github.com/aureliem07" target="_blank">
            <img class = "img_logo_github" src="./media/GitHub-orange.png" alt="logo Github Aurélie Maiilot"/>
            </a>
            <a href="https://github.com/Mereani" target="_blank">
            <img class = "img_logo_github" src="./media/GitHub-violet.png" alt="logo Github Mereani Baratte"/>
            </a>
        </div>

    </footer>

</body>
</html>